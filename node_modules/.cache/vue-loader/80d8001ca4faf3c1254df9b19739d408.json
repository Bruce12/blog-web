{"remainingRequest":"/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lanjianhua/Desktop/lanjianhua/blog-web/src/pages/blog/views/interview_qust/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/lanjianhua/Desktop/lanjianhua/blog-web/src/pages/blog/views/interview_qust/index.vue","mtime":1593484452829},{"path":"/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from 'vue-property-decorator'\nimport MarkdownEditor from '@/components/MarkdownEditor/index.vue'\nimport TapSwitch from '@/components/TapSwitch/index.vue'\nimport { getList, editEssay, saveEssay } from './api'\n\n@Component({\n  name: 'InterviewQust',\n  components: {\n    TapSwitch,\n    MarkdownEditor\n  }\n})\n\nexport default class extends Vue {\n  private dataObj: any = {}\n  private tabs: ICv[] = [\n    { code: 'css', value: 'css', selected: true },\n    { code: 'js', value: 'javascript' },\n    { code: 'arithmetic', value: '算法' },\n    { code: 'ts', value: 'Typescript' },\n    { code: 'node', value: 'node' },\n    { code: 'vue', value: 'Vue' },\n    { code: 'others', value: '其他' }\n  ]\n  private curentType: string = this.tabs[0].code\n  private isEdit: boolean = false\n  private content: string = ''\n  private loading: boolean = false\n  private loadData: boolean = false\n  created() {\n    this.getList()\n  }\n  private getList() {\n    this.loadData = false\n    getList({ type: this.curentType })\n      .then(data => {\n        this.dataObj = data.data[0] || {}\n      })\n      .finally(() => {\n        this.loadData = true\n      })\n  }\n  // 保存\n  private save() {\n    let postData = {\n      title: this.curentType,\n      type: this.curentType,\n      content: this.content\n    }\n    if (this.loading) return\n    this.loading = true\n    if (this.dataObj._id) {\n      editEssay(this.dataObj._id, postData)\n        .then(data => {\n          this.$message({\n            type: 'success',\n            message: '保存成功'\n          })\n          this.isEdit = false\n          this.getList()\n        })\n        .finally(() => {\n          this.loading = false\n        })\n        .catch(err => {\n          this.$message({\n            type: 'error',\n            message: err\n          })\n        })\n    } else {\n      saveEssay(postData)\n        .then(data => {\n          this.$message({\n            type: 'success',\n            message: '保存成功'\n          })\n          this.getList()\n        })\n        .catch(e => {\n          this.$message({\n            type: 'error',\n            message: e\n          })\n        })\n        .finally(() => {\n          this.loading = false\n        })\n    }\n  }\n  pageVisible() {\n    console.log('页面显示出来了')\n  }\n  pageHidden() {\n    console.log('页面隐藏了')\n  }\n  private tabClick(item: ICv) {\n    this.curentType = item.code\n    this.getList()\n  }\n}\n",null]}