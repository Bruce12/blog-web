{"remainingRequest":"/Users/lanjianhua/Desktop/lanjianhua/myMusic/node_modules/babel-loader/lib/index.js!/Users/lanjianhua/Desktop/lanjianhua/myMusic/node_modules/ts-loader/index.js??ref--14-2!/Users/lanjianhua/Desktop/lanjianhua/myMusic/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lanjianhua/Desktop/lanjianhua/myMusic/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lanjianhua/Desktop/lanjianhua/myMusic/src/components/Ellipsis/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/lanjianhua/Desktop/lanjianhua/myMusic/src/components/Ellipsis/index.vue","mtime":1575252709166},{"path":"/Users/lanjianhua/Desktop/lanjianhua/myMusic/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lanjianhua/Desktop/lanjianhua/myMusic/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lanjianhua/Desktop/lanjianhua/myMusic/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/lanjianhua/Desktop/lanjianhua/myMusic/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lanjianhua/Desktop/lanjianhua/myMusic/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _classCallCheck from \"/Users/lanjianhua/Desktop/lanjianhua/myMusic/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lanjianhua/Desktop/lanjianhua/myMusic/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/lanjianhua/Desktop/lanjianhua/myMusic/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lanjianhua/Desktop/lanjianhua/myMusic/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lanjianhua/Desktop/lanjianhua/myMusic/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport * as tslib_1 from \"tslib\";\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { eventOn, eventOff } from '@/utils/dom';\nimport Ellipsis from \"./ellipsis\";\n\nvar default_1 =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(default_1, _Vue);\n\n  function default_1() {\n    var _this;\n\n    _classCallCheck(this, default_1);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(default_1).apply(this, arguments));\n    _this.isExpand = false;\n    _this.expandText = '...';\n    _this.toggleVal = ['...', '收起'];\n    _this.hideExpand = true;\n    _this.height = 'auto';\n    _this.show = true;\n    _this.text = _this.ellipsis;\n    _this.ellippsisText = '';\n    return _this;\n  }\n\n  _createClass(default_1, [{\n    key: \"created\",\n    value: function created() {\n      this.eps = new Ellipsis(this.ellipsis, this.lineClamp, this.toggleVal);\n      this.init();\n    }\n  }, {\n    key: \"mounted\",\n    value: function mounted() {\n      var _this2 = this;\n\n      this.$nextTick(function () {\n        eventOn(window, 'resize', _this2.onResize);\n      });\n    }\n  }, {\n    key: \"destroyed\",\n    value: function destroyed() {\n      eventOff(window, 'resize', this.onResize);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {\n      var _this3 = this;\n\n      clearTimeout(this.timer);\n      this.expandText = this.toggleVal[0];\n      this.isExpand = false;\n      this.height = this.minHeight + 'px';\n      this.timer = setTimeout(function () {\n        _this3.init();\n      }, 200);\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      var _this4 = this;\n\n      this.$nextTick(function () {\n        var elTarget = _this4.$refs.expandBody;\n\n        var resData = _this4.eps.cliff(elTarget);\n\n        _this4.ellippsisText = resData.ellipsis;\n        _this4.height = resData.minHeight + 'px';\n\n        if (!resData.isCliff) {\n          _this4.ellippsisText = _this4.ellipsis;\n        } // console.log(resData)\n\n\n        _this4.text = _this4.ellippsisText;\n        _this4.minHeight = resData.minHeight;\n        _this4.maxHeight = resData.maxHeight;\n        _this4.show = resData.isCliff;\n      });\n    } // 内容展开收起\n\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      var _this5 = this;\n\n      this.isExpand = !this.isExpand;\n\n      if (this.isExpand) {\n        this.text = this.ellipsis;\n        this.expandText = this.toggleVal[1];\n        this.height = this.maxHeight + 'px';\n      } else {\n        this.height = this.minHeight + 'px';\n        setTimeout(function () {\n          _this5.text = _this5.ellippsisText;\n          _this5.expandText = _this5.toggleVal[0];\n        }, this.duration);\n      }\n    }\n  }, {\n    key: \"_duration\",\n    get: function get() {\n      return (this.duration || 300) / 1000;\n    }\n  }]);\n\n  return default_1;\n}(Vue);\n\ntslib_1.__decorate([Prop({\n  default: 2\n})], default_1.prototype, \"lineClamp\", void 0);\n\ntslib_1.__decorate([Prop({\n  default: ''\n})], default_1.prototype, \"ellipsis\", void 0);\n\ntslib_1.__decorate([Prop({\n  default: 300\n})], default_1.prototype, \"duration\", void 0);\n\ndefault_1 = tslib_1.__decorate([Component({\n  name: 'ExpandText'\n})], default_1);\nexport default default_1;",null]}