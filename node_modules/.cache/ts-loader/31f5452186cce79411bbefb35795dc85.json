{"remainingRequest":"/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/babel-loader/lib/index.js!/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/ts-loader/index.js??ref--14-2!/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lanjianhua/Desktop/lanjianhua/blog-web/src/components/MarkdownEditor/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/lanjianhua/Desktop/lanjianhua/blog-web/src/components/MarkdownEditor/index.vue","mtime":1590645396635},{"path":"/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lanjianhua/Desktop/lanjianhua/blog-web/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as tslib_1 from \"tslib\";\nimport 'codemirror/lib/codemirror.css'; // codemirror\n\nimport 'tui-editor/dist/tui-editor.css'; // editor ui\n\nimport 'tui-editor/dist/tui-editor-contents.css'; // editor content\n\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator';\nimport defaultOptions from \"./default-options\";\nimport TuiEditor from 'tui-editor';\n\nvar defaultId = function defaultId() {\n  return 'markdown-editor-' + +new Date() + ((Math.random() * 1000).toFixed(0) + '');\n};\n\nvar default_1 =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(default_1, _Vue);\n\n  function default_1() {\n    _classCallCheck(this, default_1);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(default_1).apply(this, arguments));\n  }\n\n  _createClass(default_1, [{\n    key: \"onValueChange\",\n    value: function onValueChange(value, oldValue) {\n      if (this.markdownEditor) {\n        if (value !== oldValue && value !== this.markdownEditor.getValue()) {\n          this.markdownEditor.setValue(value);\n        }\n      }\n    }\n  }, {\n    key: \"onLanguageChange\",\n    value: function onLanguageChange() {\n      this.destroyEditor();\n      this.initEditor();\n    }\n  }, {\n    key: \"onHeightChange\",\n    value: function onHeightChange(value) {\n      if (this.markdownEditor) {\n        this.markdownEditor.height(value);\n      }\n    }\n  }, {\n    key: \"onModeChange\",\n    value: function onModeChange(value) {\n      if (this.markdownEditor) {\n        this.markdownEditor.changeMode(value);\n      }\n    }\n  }, {\n    key: \"mounted\",\n    value: function mounted() {\n      this.initEditor();\n    }\n  }, {\n    key: \"destroyed\",\n    value: function destroyed() {\n      this.destroyEditor();\n    }\n  }, {\n    key: \"initEditor\",\n    value: function initEditor() {\n      var _this = this;\n\n      var editorElement = document.getElementById(this.id);\n      if (!editorElement) return;\n      this.markdownEditor = new TuiEditor(_objectSpread({\n        el: editorElement\n      }, this.editorOptions));\n\n      if (this.value) {\n        this.markdownEditor.setValue(this.value);\n      }\n\n      this.markdownEditor.on('change', function () {\n        _this.$emit('input', _this.markdownEditor.getValue());\n      });\n    }\n  }, {\n    key: \"destroyEditor\",\n    value: function destroyEditor() {\n      if (!this.markdownEditor) return;\n      this.markdownEditor.off('change');\n      this.markdownEditor.remove();\n      this.markdownEditor = undefined;\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (this.markdownEditor) {\n        this.markdownEditor.focus();\n      }\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value) {\n      if (this.markdownEditor) {\n        this.markdownEditor.setValue(value);\n      }\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      if (this.markdownEditor) {\n        return this.markdownEditor.getValue();\n      }\n\n      return '';\n    }\n  }, {\n    key: \"setHtml\",\n    value: function setHtml(value) {\n      if (this.markdownEditor) {\n        this.markdownEditor.setHtml(value);\n      }\n    }\n  }, {\n    key: \"getHtml\",\n    value: function getHtml() {\n      if (this.markdownEditor) {\n        return this.markdownEditor.getHtml();\n      }\n\n      return '';\n    }\n  }, {\n    key: \"editorOptions\",\n    get: function get() {\n      var options = Object.assign({}, defaultOptions, this.options);\n      options.initialEditType = this.mode;\n      options.height = this.height;\n      options.language = this.language;\n      return options;\n    }\n  }]);\n\n  return default_1;\n}(Vue);\n\ntslib_1.__decorate([Prop({\n  required: true\n})], default_1.prototype, \"value\", void 0);\n\ntslib_1.__decorate([Prop({\n  default: defaultId\n})], default_1.prototype, \"id\", void 0);\n\ntslib_1.__decorate([Prop({\n  default: function _default() {\n    return defaultOptions;\n  }\n})], default_1.prototype, \"options\", void 0);\n\ntslib_1.__decorate([Prop({\n  default: 'markdown'\n})], default_1.prototype, \"mode\", void 0);\n\ntslib_1.__decorate([Prop({\n  default: '300px'\n})], default_1.prototype, \"height\", void 0);\n\ntslib_1.__decorate([Prop({\n  default: 'en_US'\n})], default_1.prototype, \"language\", void 0);\n\ntslib_1.__decorate([Watch('value')], default_1.prototype, \"onValueChange\", null);\n\ntslib_1.__decorate([Watch('language')], default_1.prototype, \"onLanguageChange\", null);\n\ntslib_1.__decorate([Watch('height')], default_1.prototype, \"onHeightChange\", null);\n\ntslib_1.__decorate([Watch('mode')], default_1.prototype, \"onModeChange\", null);\n\ndefault_1 = tslib_1.__decorate([Component({\n  name: 'MarkdownEditor'\n})], default_1);\nexport default default_1;",null]}